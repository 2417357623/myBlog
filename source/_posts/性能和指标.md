---
title: 性能和指标
date: 2024-12-03 16:15:30
tags:
---

## 前言

我们首先需要了解整个页面绘制的原理[浏览器工作原理](浏览器工作原理.md)，了解各个时间节点浏览器做了什么，针对不同的节点进行优化。


## 指标

### 渲染时机

FP：首次绘制时间
FCP：FCP 通常意味着浏览器在 DOM 树和 CSSOM 树完成初步构建后，将第一个可见内容渲染到屏幕上。
DCL：DCL 对应于整个 HTML 文档被浏览器完全解析的时刻，此时已经生成完整的 DOM 树，但外部资源（如图片和样式表）可能还未完全加载。对应了 `DOMContentLoaded` 事件
L：Load Event 代表的是页面上的所有资源（包括样式表、图片、JavaScript 文件等）都已加载完成，意味着浏览器已经完成了从服务器下载页面的全部资源，并且所有资源都已完全展示。Load 对应的事件是 `load`
**LCP**： 是衡量用户感知页面主要内容加载的关键指标，它能帮助开发者找到影响页面加载体验的问题。

> 可以在开发者工具看到他们的耗时

![](attachment/Pasted%20image%2020241130115558.png)

### Core Web Vitals

Web Vitals 是谷歌推出的一项旨在为提供优质网络用户体验的必要质量信号提供统一指导的倡议。

LCP：同上
INP：反映用户在交互时页面响应的延迟，关注用户操作的流畅性。
CLS：评估页面布局的稳定性，防止加载中内容“跳动”影响用户体验。


### RAIL 运行时性能模型

RAIL 是一种以用户为中心的性能模型，为思考性能提供了结构。该模型将用户的体验分解为关键动作（例如，点击、滚动、加载）并帮助您为每个动作定义性能目标。

RAIL 代表 Web 应用生命周期中的四个不同方面：响应、动画、空闲和加载。用户对每个这些上下文都有不同的性能期望，因此性能目标是基于上下文和用户体验研究如何感知延迟来定义的。

![](attachment/Pasted%20image%2020241202164449.png)



## Reference

[rail模型](https://web.dev/articles/rail)